<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mashup Generator</title>
  <style>
    :root { --card: rgba(18, 24, 55, .72); --border: rgba(255,255,255,.12); }
    *{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;}
    body{
      margin:0; min-height:100vh; display:grid; place-items:center; color:#fff;
      background: radial-gradient(1200px 600px at 20% 20%, #6d28d9 0%, transparent 55%),
                  radial-gradient(900px 600px at 80% 30%, #2563eb 0%, transparent 55%),
                  radial-gradient(900px 700px at 50% 90%, #0ea5e9 0%, transparent 60%),
                  #060818;
      overflow:hidden;
    }
    .bg-orb{
      position:absolute; width:520px; height:520px; border-radius:50%;
      filter: blur(60px); opacity:.35; animation: float 10s ease-in-out infinite;
      background: linear-gradient(135deg,#a855f7,#22d3ee);
      top:-120px; left:-120px;
    }
    .bg-orb:nth-child(2){ width:420px;height:420px; top:auto; left:auto; right:-120px; bottom:-120px;
      background: linear-gradient(135deg,#60a5fa,#f472b6); animation-duration: 12s;
    }
    @keyframes float{ 0%,100%{transform:translate(0,0) scale(1)} 50%{transform:translate(25px,18px) scale(1.05)} }
    .card{
      width:min(920px,92vw);
      background: var(--card);
      border:1px solid var(--border);
      border-radius:24px;
      box-shadow: 0 30px 80px rgba(0,0,0,.45);
      padding:26px;
      backdrop-filter: blur(10px);
      position:relative;
    }
    h1{margin:0 0 6px;font-size:32px;}
    p{margin:0 0 18px;opacity:.9}
    .grid{display:grid;gap:14px;grid-template-columns:1fr 1fr;}
    .grid3{display:grid;gap:14px;grid-template-columns:1fr 1fr 1fr;}
    label{font-size:13px;opacity:.9;margin-bottom:6px;display:block}
    input, .file{
      width:100%; padding:12px 14px; border-radius:14px; outline:none;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(3,7,18,.35);
      color:#fff;
    }
    .file{padding:10px}
    .btn{
      margin-top:14px; width:100%;
      padding:14px 16px; border-radius:14px; border:0;
      color:white; font-weight:700; cursor:pointer;
      background: linear-gradient(90deg,#7c3aed,#2563eb);
    }
    .msg{
      margin-top:14px; padding:12px 14px; border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.25);
      white-space:pre-wrap;
    }
    a{color:#93c5fd}
    .note{margin-top:12px;opacity:.85;font-size:13px}
  </style>
</head>
<body>
  <div class="bg-orb"></div><div class="bg-orb"></div>

  <div class="card">
    <h1>Mashup Generator</h1>
    <p>Upload audio files (mp3/wav/m4a). We’ll cut first <b>y</b> seconds from each and merge → download.</p>

    <form method="POST" enctype="multipart/form-data">
      <div class="grid3">
        <div>
          <label>Seconds from each (y)</label>
          <input name="y" type="number" min="1" max="120" value="20" required />
        </div>
        <div>
          <label>Output filename</label>
          <input name="outname" placeholder="102303184-output.mp3" value="102303184-output.mp3" />
        </div>
        <div>
          <label>Email (optional)</label>
          <input name="email" type="email" placeholder="you@example.com" />
        </div>
      </div>

      <div style="margin-top:14px">
        <label>Upload audio files (select multiple)</label>
        <input class="file" type="file" name="files" accept="audio/*" multiple required />
      </div>

      <button class="btn" type="submit">Generate</button>
    </form>

    {% if error %}
      <div class="msg">Error: {{ error }}</div>
    {% endif %}
    {% if download_url %}
      <div class="msg">
        ✅ Done! Download: <a href="{{ download_url }}">Click here</a>
      </div>
    {% endif %}

    <div class="note">
      Render Free may sleep; first request can take 30–60 seconds.
      Keep files small (few files) for free plan.
    </div>
  </div>
</body>
</html>
